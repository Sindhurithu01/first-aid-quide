import{a as T}from"./chunk-GFTZKH2D.js";import{$ as _,D as d,E as o,F as n,J as g,K as h,M as x,P as r,Q as a,aa as b,ba as C,fa as S,ia as y,m,n as f,s,u as p,v as u,z as v}from"./chunk-LBDMMVLM.js";function w(t,i){t&1&&(o(0,"div")(1,"p"),r(2,"No topics found. Try refreshing or check backend connection."),n()())}function k(t,i){if(t&1){let e=g();o(0,"div",2)(1,"h3"),r(2),n(),o(3,"p"),r(4),n(),o(5,"button",3),h("click",function(){let l=m(e).$implicit,I=x();return f(I.viewDetails(l._id||l.id))}),r(6,"View Details"),n()()}if(t&2){let e=i.$implicit;s(2),a(e.title),s(2),a(e.description)}}var F=class t{constructor(i,e){this.firstAidService=i;this.router=e}topics=[];ngOnInit(){this.loadTopics()}loadTopics(){fetch("https://first-aid-quide-12.onrender.com/topics"),this.firstAidService.getTopics().subscribe({next:i=>{console.log("Fetched topics:",i),i&&Array.isArray(i)?this.topics=i:(console.error("Unexpected data format:",i),this.topics=[])},error:i=>{console.error("Error fetching topics:",i),this.topics=[{id:1,title:"Burns",description:"Steps to treat a minor burn"},{id:2,title:"Cuts",description:"Steps to treat a small cut"},{id:3,title:"Hypothermia",description:"Cold exposure help"},{id:4,title:"Fractures and Sprains",description:"broken bones and sprains"},{id:5,title:"Shock",description:"First aid steps for someone in shock"},{id:6,title:"Nosebleeds",description:"How to stop a nosebleed"},{id:7,title:"Poisoning",description:"First aid for poisoning"},{id:8,title:"Animal Bites and Stings",description:"Care for bites and stings"},{id:9,title:"Eye Injuries",description:"First aid for minor eye injuries"},{id:10,title:"Heat Exhaustion",description:"Steps to help someone suffering from heat exhaustion"}]}})}viewDetails(i){console.log("Navigating to topic :",i),this.router.navigate(["/topic-detail",i])}static \u0275fac=function(e){return new(e||t)(p(T),p(y))};static \u0275cmp=u({type:t,selectors:[["app-topics"]],decls:4,vars:2,consts:[[4,"ngIf"],["style","margin-bottom: 20px; padding: 10px; border: 1px solid #ccc;",4,"ngFor","ngForOf"],[2,"margin-bottom","20px","padding","10px","border","1px solid #ccc"],[3,"click"]],template:function(e,c){e&1&&(o(0,"h2"),r(1,"First Aid Topics"),n(),v(2,w,3,0,"div",0)(3,k,7,2,"div",1)),e&2&&(s(2),d("ngIf",c.topics.length===0),s(),d("ngForOf",c.topics))},dependencies:[C,_,b,S],encapsulation:2})};export{F as TopicsComponent};
