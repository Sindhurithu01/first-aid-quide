import{a as k,b as A,e as R,h as N}from"./chunk-ZZEAEXGF.js";import{a as O}from"./chunk-PYB3QZB5.js";import{D as s,E as o,F as n,G as g,K as x,L as w,N as c,O as y,Q as l,R as m,S as C,T as S,U as T,W as b,aa as I,ba as D,ca as E,ga as F,ha as M,m as f,n as u,s as r,u as v,v as _,z as p}from"./chunk-7TJ3EWMM.js";function B(t,i){if(t&1&&(o(0,"li"),l(1),n()),t&2){let e=i.$implicit;r(),m(e)}}function V(t,i){if(t&1&&(o(0,"div")(1,"h3"),l(2,"Steps"),n(),o(3,"ul"),p(4,B,2,1,"li",6),n()()),t&2){let e=c(2);r(4),s("ngForOf",e.topic.steps)}}function H(t,i){if(t&1&&(o(0,"li"),l(1),n()),t&2){let e=i.$implicit;r(),m(e)}}function W(t,i){if(t&1&&(o(0,"div",7)(1,"h4"),l(2,"Reviews"),n(),o(3,"ul"),p(4,H,2,1,"li",6),n()()),t&2){let e=c(2);r(4),s("ngForOf",e.reviews)}}function L(t,i){if(t&1){let e=x();o(0,"div")(1,"h2"),l(2),n(),o(3,"p"),l(4),n(),p(5,V,5,1,"div",2),g(6,"hr"),o(7,"h4"),l(8,"Add a Review"),n(),o(9,"textarea",3),T("ngModelChange",function(a){f(e);let h=c();return S(h.reviewText,a)||(h.reviewText=a),u(a)}),n(),g(10,"br"),o(11,"button",4),w("click",function(){f(e);let a=c();return u(a.submitReview())}),l(12,"Submit Review"),n(),p(13,W,5,1,"div",5),n()}if(t&2){let e=c();r(2),m(e.topic.title),r(2),m(e.topic.description),r(),s("ngIf",e.topic.steps==null?null:e.topic.steps.length),r(4),C("ngModel",e.reviewText),r(4),s("ngIf",e.reviews.length>0)}}function P(t,i){t&1&&(o(0,"p"),l(1,"Loading topic details..."),n())}function z(t,i){t&1&&(o(0,"p"),l(1,"Topic not found."),n())}function K(t,i){if(t&1&&p(0,P,2,0,"p",2)(1,z,2,0,"p",2),t&2){let e=c();s("ngIf",e.loading),r(),s("ngIf",!e.loading&&!e.topic)}}var j=class t{constructor(i,e){this.route=i;this.firstAidService=e}topic=null;reviewText="";reviews=[];loading=!0;topics=[{id:"1",title:"Burns",description:"Steps to treat a minor burn",steps:["Cool under water","Cover with clean cloth","Do not pop blisters"]},{id:"2",title:"Cuts",description:"Steps to treat a small cut",steps:["Wash wound","Apply antiseptic","Bandage"]},{id:"3",title:"Hypothermia",description:"Cold exposure help",steps:["Move the person to a warm place","Remove wet clothing","Cover with blankets","Seek medical help immediately"]},{id:"4",title:"Fractures and Sprains",description:"Broken bones and sprains",steps:["Immobilize the injured area","Apply ice to reduce swelling","Keep the limb elevated","Seek professional medical help"]},{id:"5",title:"Shock",description:"First aid steps for someone in shock",steps:["Lay the person down","Elevate legs if no injury","Keep them warm","Call emergency services immediately"]},{id:"6",title:"Nosebleeds",description:"How to stop a nosebleed",steps:["Sit upright and lean forward","Pinch nostrils for 10-15 minutes","Apply a cold compress on the nose bridge","Seek help if bleeding persists"]},{id:"7",title:"Poisoning",description:"First aid for poisoning",steps:["Identify the poison","Do not induce vomiting unless instructed","Call poison control or emergency services","Follow their guidance carefully"]},{id:"8",title:"Animal Bites and Stings",description:"Care for bites and stings",steps:["Clean the wound thoroughly","Apply antiseptic","Immobilize if necessary","Seek medical help for rabies or severe bites"]},{id:"9",title:"Eye Injuries",description:"First aid for minor eye injuries",steps:["Do not rub the eye","Rinse gently with clean water","Remove any visible foreign object carefully","Seek medical help for chemical burns or severe injuries"]},{id:"10",title:"Heat Exhaustion",description:"Steps to help someone suffering from heat exhaustion",steps:["Move the person to a cooler place","Have them lie down and elevate legs","Give water to drink if conscious","Loosen clothing and cool body with wet cloths"]}];ngOnInit(){let i=this.route.snapshot.paramMap.get("id");console.log("Topic id from route:",i),i?this.firstAidService.getTopicById(i).subscribe({next:e=>{console.log("Fetched topic:",e),this.topic=e,this.loading=!1},error:e=>{console.error("Failed to fetch topic:",e),this.loading=!1,this.topic=this.topics.find(d=>d.id===i)||null}}):(console.warn("No topic ID found in route!"),this.loading=!1)}submitReview(){this.reviewText.trim()&&(this.reviews.push(this.reviewText.trim()),this.reviewText="")}static \u0275fac=function(e){return new(e||t)(v(M),v(O))};static \u0275cmp=_({type:t,selectors:[["app-topic-detail"]],decls:3,vars:2,consts:[["loadingOrNotFound",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],["rows","3","cols","60","placeholder","Write your review...",3,"ngModelChange","ngModel"],[3,"click"],["style","margin-top: 20px;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"]],template:function(e,d){if(e&1&&p(0,L,14,5,"div",1)(1,K,2,2,"ng-template",null,0,b),e&2){let a=y(2);s("ngIf",d.topic)("ngIfElse",a)}},dependencies:[E,I,D,N,k,A,R,F],encapsulation:2})};export{j as TopicDetailComponent};
